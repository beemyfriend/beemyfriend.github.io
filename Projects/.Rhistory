gather(use, bottles, -data) %>%
unnest() %>%
mutate(cost_earn = sapply(seq_along(use), function(i){
if(.$use[i] == 'sold'){
.$bottles[i] * .$v_price[i]
} else if (.$use[i] == 'tasting') {
.$bottles[i] * .$n_price[i] * -1
}
}))
ggplot(vendimia_buin) +
geom_col(aes(use, bottles)) +
facet_wrap(~type)
vendimia_buin <- vendimia_buin %>%
group_by(type) %>%
nest() %>%
mutate(earned = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'sold') %>% .$cost_earn
}) %>% unlist()) %>%
mutate(lost = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'tasting') %>% .$cost_earn
}) %>% unlist()) %>%
mutate(delta = earned + lost)
ggplot(vendimia_buin) +
geom_col(aes(use, cost_earn)) +
facet_wrap(~type)
vendimia_buin
vendimia_buin <- vendimia_buin %>%
group_by(type) %>%
nest() %>%
mutate(earned = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'sold') %>% .$cost_earn
}) %>% unlist()) %>%
mutate(lost = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'tasting') %>% .$cost_earn
}) %>% unlist() * -1) %>%
mutate(delta = earned + lost) %>%
gather(earning_type, money, -c(type, data)) %>%
filter(earning_type != 'earned')
vendimia_buin <- vendimia_buin %>%
group_by(sold, tasting) %>%
nest() %>%
gather(use, bottles, -data) %>%
unnest() %>%
mutate(cost_earn = sapply(seq_along(use), function(i){
if(.$use[i] == 'sold'){
.$bottles[i] * .$v_price[i]
} else if (.$use[i] == 'tasting') {
.$bottles[i] * .$n_price[i] * -1
}
}))
vendimia_buin2 <- vendimia_buin %>%
group_by(type) %>%
nest() %>%
mutate(earned = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'sold') %>% .$cost_earn
}) %>% unlist()) %>%
mutate(lost = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'tasting') %>% .$cost_earn
}) %>% unlist() * -1) %>%
mutate(delta = earned + lost) %>%
gather(earning_type, money, -c(type, data)) %>%
filter(earning_type != 'earned')
vendimia_buin <- data.frame(type, sold, tasting, n_price, v_price)
vendimia_buin <- vendimia_buin %>%
group_by(sold, tasting) %>%
nest() %>%
gather(use, bottles, -data) %>%
unnest() %>%
mutate(cost_earn = sapply(seq_along(use), function(i){
if(.$use[i] == 'sold'){
.$bottles[i] * .$v_price[i]
} else if (.$use[i] == 'tasting') {
.$bottles[i] * .$n_price[i] * -1
}
}))
vendimia_buin2 <- vendimia_buin %>%
group_by(type) %>%
nest() %>%
mutate(earned = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'sold') %>% .$cost_earn
}) %>% unlist()) %>%
mutate(lost = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'tasting') %>% .$cost_earn
}) %>% unlist() * -1) %>%
mutate(delta = earned + lost) %>%
gather(earning_type, money, -c(type, data)) %>%
filter(earning_type != 'earned')
vendimia_buin2
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type))
vendimia_buin2 <- vendimia_buin %>%
group_by(type) %>%
nest() %>%
mutate(earned = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'sold') %>% .$cost_earn
}) %>% unlist()) %>%
mutate(lost = sapply(seq_along(data), function(i){
.$data[[i]] %>% filter(use == 'tasting') %>% .$cost_earn
}) %>% unlist() * -1) %>%
mutate(delta = earned - lost) %>%
gather(earning_type, money, -c(type, data)) %>%
filter(earning_type != 'earned')
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type))
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type)) +
scale_color_brewer(palette = c('brown, orange'))
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type)) +
scale_color_brewer(palette = c('brown', 'orange'))
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type), col = c('brown', orange))
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type), col = c('brown', 'orange'))
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type)) +
scale_fill_manual(c('brown', 'orange'))
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type)) +
scale_fill_manual(values = c('brown', 'orange'))
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type)) +
scale_fill_manual(values = c('#91bfdb', '#fc8d59'))
c('a', 'b', 'c') * 3
days <- c(rep('Friday', 3));
days
days <- c(rep('Friday', 3), rep('Saturday', 3), rep('Sunday', 3));
days
type <- rep(c('Cabernet Sauvignon', 'Sauvignon Blanc', 'Gasificado'), 3)
type
days <- rep(c('Friday', 'Saturday', 'Sunday'), 3)
days
type <- c(rep('Cabernet Sauvignon',3),rep('Sauvignon Blanc', 3), rep('Gasificado', 3))
type
vendimia_buin3 <- data.frame(type, days, bottles_sold, bottles_tasted)
bottles_sold <- c(25, 55, 27, 1, 7, 15, 4, 26, 9)
bottles_tasted <- c(12, 30, 16, 1, 5, 8, 2, 11, 11)
vendimia_buin3 <- data.frame(type, days, bottles_sold, bottles_tasted)
vendimia_buin3
gglot(vendimia_buin) +
geom_point(aes(bottles_tasted, bottles_sold))
ggplot(vendimia_buin) +
geom_point(aes(bottles_tasted, bottles_sold))
ggplot(vendimia_buin3) +
geom_point(aes(bottles_tasted, bottles_sold))
ggplot(vendimia_buin3) +
geom_smooth(aes(bottles_tasted, bottles_sold))
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_smooth() +
geom_point()
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_point() +
facet_wrap(~days)
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_point(aes(color = type)) +
facet_wrap(~days)
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_point(aes(color = type)) +
facet_wrap(~days) +
scale_fill_manual(values = c('#d95f02', '#7570b3', '#1b9e77'))
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_point(aes(color = type), size = 5) +
facet_wrap(~days) +
scale_fill_manual(values = c('#d95f02', '#7570b3', '#1b9e77'))
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_point(aes(color = type), size = 5) +
geom_smooth() +
facet_wrap(~days) +
scale_fill_manual(values = c('#d95f02', '#7570b3', '#1b9e77'))
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_smooth() +
geom_point(aes(color = type), size = 5) +
facet_wrap(~days) +
scale_fill_manual(values = c('#d95f02', '#7570b3', '#1b9e77'))
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_smooth() +
geom_point()
vendimia_buin3
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_point(aes(color = type), size = 5) +
facet_wrap(~days) +
scale_fill_manual(values = c('#d95f02', '#7570b3', '#1b9e77'))
ggplot(vendimia_buin2) +
geom_col(aes(type, money, fill = earning_type)) +
scale_fill_manual(values = c('#91bfdb', '#fc8d59'))
ggplot(vendimia_buin) +
geom_col(aes(use, bottles)) +
facet_wrap(~type)
vendimia_buin
vendimia_buin2
vendimia_buin2 %>% unnest()
vendimia_buin2 %>% unnest() %>% spread(use, cost_earn)
vendimia_buin2 %>% unnest()
vendimia_buin2 %>% unnest() %>% unite(bottles_cost_earn) %>%spread(use, cost_earn)
vendimia_buin2 %>% unnest() %>% unite(bottles_cost_earn)\
vendimia_buin2 %>% unnest() %>% unite(bottles_cost_earn)
vendimia_buin2 %>% unnest() %>% unite(bottles, cost_earn)
vendimia_buin2 %>% unnest() %>% unite(bottles_cost,bottles, cost_earn)
vendimia_buin2 %>% unnest() %>% unite(bottles_cost,bottles, cost_earn) %>% spread(use, bottles_cost)
vendimia_buin2 %>%
unnest() %>%
unite(bottles_cost,bottles, cost_earn) %>%
spread(use, bottles_cost) %>%
spread(earning_type, money)
?unite
vendimia_buin2 %>%
unnest() %>%
unite(bottles_cost,bottles, cost_earn) %>%
spread(use, bottles_cost) %>%
spread(earning_type, money) %>%
select(-lost) %>%
separate(sold)
vendimia_buin2 %>%
unnest() %>%
unite(bottles_cost,bottles, cost_earn) %>%
spread(use, bottles_cost) %>%
spread(earning_type, money) %>%
select(-lost) %>%
separate(sold, 'bottles_sold', 'money_gained')
vendimia_buin2 %>%
unnest() %>%
unite(bottles_cost,bottles, cost_earn) %>%
spread(use, bottles_cost) %>%
spread(earning_type, money) %>%
select(-lost) %>%
separate(sold, c('bottles_sold', 'money_gained'))
vendimia_buin2 %>%
unnest() %>%
unite(bottles_cost,bottles, cost_earn) %>%
spread(use, bottles_cost) %>%
spread(earning_type, money) %>%
select(-lost) %>%
separate(sold, c('bottles_sold', 'money_gained')) %>%
sperate(tasting, c('bottles_tasted', 'money_lost'))
vendimia_buin2 %>%
unnest() %>%
unite(bottles_cost,bottles, cost_earn) %>%
spread(use, bottles_cost) %>%
spread(earning_type, money) %>%
select(-lost) %>%
separate(sold, c('bottles_sold', 'money_gained')) %>%
separate(tasting, c('bottles_tasted', 'money_lost'))
vendimia_buin2 %>%
unnest() %>%
unite(bottles_cost,bottles, cost_earn) %>%
spread(use, bottles_cost) %>%
spread(earning_type, money) %>%
select(-lost) %>%
separate(sold, c('bottles_sold', 'money_gained')) %>%
separate(tasting, c('bottles_tasted', 'money_lost'))
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_point(aes(color = type), size = 5) +
facet_wrap(~days) +
scale_fill_manual(values = c('#d95f02', '#1b9e77','#7570b3' ))
ggplot(vendimia_buin3, aes(bottles_tasted, bottles_sold)) +
geom_point(aes(color = type), size = 5) +
facet_wrap(~days) +
scale_color_manual(values = c('#d95f02', '#7570b3', '#1b9e77'))
price_check <- data.frame(num_bottles)
num_bottles <- c(1:300)
price_check <- data.frame(num_bottles)
price_check
price_check <- data.frame(num_bottles) %>%
mutate(normal_price = num_bottles * 2.5) %>%
mutate(vendimia_price = num_bottles * 3.5)
price_check
ggplot(price_check) +
geom_line(aes(normal_price))
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price))
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price)) +
geom_line(aes(num_bottles, vendimia_price))
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02') +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77')
ggplot(price_check, size = 3) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02') +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77')
ggplot(price_check, width =3) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02') +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77')
ggplot(price_check, width = 6) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02') +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77')
ggplot(price_check, size = 6) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02') +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77')
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02', size = 5) +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77')
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02', size = 3) +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77', size = 3)
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02', size = 2) +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77', size = 2)
price_check
?geom_vline
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02', size = 2) +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77', size = 2) +
geom_vline(xintercept = 100)
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02', size = 2) +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77', size = 2) +
geom_vline(xintercept = 100, ylim(100, 400))
ggplot(price_check) +
geom_line(aes(num_bottles, normal_price), color = '#d95f02', size = 2) +
geom_line(aes(num_bottles, vendimia_price), color = '#1b9e77', size = 2) +
geom_vline(xintercept = 100) +
geom_vline(xintercept = 200)
price_check <- data.frame(num_bottles) %>%
mutate(normal_price = num_bottles * 2.5) %>%
mutate(vendimia_price = num_bottles * 3.5) %>%
mutate(delta = vendimia_price - num_bottles)
price_check[100]
price_check[,100]
price_check[100,]
price_check <- data.frame(num_bottles) %>%
mutate(normal_price = num_bottles * 2.5) %>%
mutate(vendimia_price = num_bottles * 3.5) %>%
mutate(delta = vendimia_price - normal_price) %>%
mutate(delta_normal_bottles = delta/2.5)
price_check[100,]
price_check[200,]
vendimia_buin2
vendimia_buin
100/2.500
vendimia_buin %>% filter(use == 'tasting) %>% .$cost_earn %>% sum()
vendimia_buin %>% filter(use == 'tasting) %>% .$cost_earn %>% sum()
vendimia_buin %>% filter(use == 'tasting') %>% .$cost_earn %>% sum()
vendimia_buin %>% filter(use == 'tasting') %>% .$cost_earn %>% sum() * -1
vendimia_buin3
knitr::opts_chunk$set(echo = TRUE)
vendimia_buin3 %>% knitr::kable()
5 + 5
data.frame(c(1,2,3), c('a', 'b', 'c'))
setwd('d://Websites/beemyfriend.github.io/Projects/')
library(tidyverse)
library(stringr)
survey <- read_csv('data_viz_survey_2017.csv')
names(survey)
project <- survey %>% select(`How did you learn to create data visualization?`, `Which of these charts have you used in production in the last 6 months:`,
`How many years have you been doing data visualization?`, `How do you present your data visualizations?`,
`What focus is data visualization in your work?`, `What technologies do you use to visualize data?`,
`What knowledge level do they have of the data you are visualizing for them?`,
`Percent of your day focused on creating/implementing/productizing data visualizations?`, `Percent of your day focused on data engineering?`,
`Percent of your day focused on data prep work?`, `Percent of your day focused on data science?`, `Percent of your day focused on design?`,
`For your current role or the majority of your projects: were you hired to do data visualization only or is data visualization a part of your job/project description?`,
`What level of data visualizations are used at your organization?`, `How is your organization using data visualization?`,
`Is there a separate group that does data visualizations or are you embedded in another group? (data science UX UI web data engineering IT etc)`,
`Did you set out to work in data visualization or did you fall into it?`, `What's your employment status`,
`Data visualization roles at your organization are found in what part of the organization?`,
`Are you able to choose your own tools or are the choices made for you?`, `Who do you make data visualizations for?`,
`How often do they consume your data visualizations?`, `What do they use your data visualizations for?`, `How would you describe the relationship?`) %>%
filter(`What's your employment status` == 'Full-time' &  `For your current role or the majority of your projects: were you hired to do data visualization only or is data visualization a part of your job/project description?` == "Hired to do data visualization") %>%
mutate(id = 1:nrow(.))
project$`Data visualization roles at your organization are found in what part of the organization?` <- project$`Data visualization roles at your organization are found in what part of the organization?` %>%
str_replace('News|Specific department for news graphics|Editorial office|Editorial|editorial', 'Newsroom') %>%
str_replace('Data Explorer|Algorithms', 'Data_Science') %>%
str_replace('BI|Analysis|sales|Finance', 'Analytics') %>%
str_replace('just me;my own department|org is small|my company is a pure data visualization player|Founders|Executive', 'Everywhere') %>%
str_replace('Visuals', 'Other')
departments <- c('Design', 'Engineering', 'Research', 'Marketing', 'IT', 'Newsroom', 'Analytics', 'Data_Science', 'Everywhere', 'Other')
for(i in 1:length(departments)){
project[[str_c('department_',departments[i])]] <- str_detect(project$`Data visualization roles at your organization are found in what part of the organization?`, departments[i])
}
project <- project %>% select(-`Data visualization roles at your organization are found in what part of the organization?`)
project$`Who do you make data visualizations for?` <- project$`Who do you make data visualizations for?` %>%
str_replace('Newsrooms|General Public', 'GP') %>%
str_replace('Medical Professionals', 'MP') %>%
str_replace('Product Managers|Project Managers', 'PM') %>%
str_replace('clients for sales team', 'Clients')
audience <- c('GP', 'Engineers', 'Scientists', 'MP', 'PM', 'Executives', 'Analysts', 'Clients')
for(i in 1:length(audience)){
project[[str_c('audience_', audience[i])]] <- str_detect(project$`Who do you make data visualizations for?`, audience[i])
}
project <- project %>% select(-`Who do you make data visualizations for?`)
audience_usage <- c('Summarization', 'Learning', 'Research', 'Analysis', 'Entertainment', 'DM', 'News')
project$`What do they use your data visualizations for?` <- project$`What do they use your data visualizations for?` %>%
str_replace('news|Publication', 'News') %>%
str_replace('decision making|decisionmaking|Decision-making', 'DM')
for(i in 1:length(audience_usage)){
project[[str_c('audience_usage_', audience_usage[i])]] <- str_detect(project$`What do they use your data visualizations for?`, audience_usage[i])
}
project <- project %>% select(-`What do they use your data visualizations for?`)
org_usage <- c('Analysis', 'ML', 'SO', 'Communication', 'Exploration', 'Marketing', 'News');
project$`How is your organization using data visualization?` <- project$`How is your organization using data visualization?` %>%
str_replace('Summary/Overview', 'SO') %>%
str_replace('Machine Learning', 'ML') %>%
str_replace('Editorial|Storytelling|Journalism', 'News')
for(i in 1:length(org_usage)){
project[[str_c('org_usage_', org_usage[i])]] <- str_detect(project$`How is your organization using data visualization?`, org_usage[i])
}
project <- project %>% select(-`How is your organization using data visualization?`)
org_level <- c('Custom', 'BI', 'RPy', 'GCL')
project$`What level of data visualizations are used at your organization?` <- project$`What level of data visualizations are used at your organization?` %>%
str_replace('Completely custom', 'Custom') %>%
str_replace('Business Intelligence Tools', 'BI') %>%
str_replace('ggplot2/Pandas Charts', 'RPy') %>%
str_replace('General charting libraries', 'GCL');
for(i in 1:length(org_level)){
project[[str_c('org_level_', org_level[i])]] <- str_detect(project$`What level of data visualizations are used at your organization?`, org_level[i])
}
project <- project %>% select(-`What level of data visualizations are used at your organization?`)
audience_literacy <- c('Intro', 'Moderate', 'Expert')
for(i in 1:length(audience_literacy)){
project[[str_c('audience_literacy_', audience_literacy[i])]] <- str_detect(project$`What knowledge level do they have of the data you are visualizing for them?`, audience_literacy[i])
}
project <- project %>% select(-`What knowledge level do they have of the data you are visualizing for them?`)
project$`What technologies do you use to visualize data?`
tech <- c('Illustrator', 'Excel', 'D3', 'Processing', 'OR', 'OP', 'OG', 'ON', 'React', 'OJ', 'ggplot', 'Pandas', 'Angular', 'Vega', 'Gephi', 'Leaflet',
'Mapbox', 'Plotly', 'WebGL', 'QGIS', 'TGS', 'Highcharts', 'Qlik', 'Java', 'Tableau', 'ArcGIS', 'PBI', 'OBI', 'OMVC', 'PostGIS', 'Postgres',
'DGL', 'Microstrategy', 'Recharts', 'nodebox', 'PP')
project$`What technologies do you use to visualize data?` <- project$`What technologies do you use to visualize data?` %>%
str_replace('Other R', 'OR') %>%
str_replace('Other Python', 'OP') %>%
str_replace('Other GIS', 'OG') %>%
str_replace('Other Network Visualization Suite', 'ON') %>%
str_replace('Three.js', 'TJS') %>%
str_replace('Other Javascript', 'OJ') %>%
str_replace('Power BI', 'PBI') %>%
str_replace('Other BI', 'OBI') %>%
str_replace('Other MVC', 'OMVC') %>%
str_replace('deck.gl', 'DGL') %>%
str_replace('pen & paper', 'PP')
for(i in 1:length(tech)){
project[[str_c('tech_', tech[i])]] <- str_detect(project$`What technologies do you use to visualize data?`, tech[i]);
}
project <- project %>% select(-`What technologies do you use to visualize data?`)
project$`How do you present your data visualizations?`
presentation <- c('Tool', 'Dashboard', 'Scrollytelling', 'WP', 'Documents', 'Presentations', 'Email', 'Print')
project$`How do you present your data visualizations?` <- project$`How do you present your data visualizations?` %>%
str_replace('Embedded in a tool', 'Tool') %>%
str_replace('Static Web Page|CMS|web apps|Web application|not static|Dynamic web pages', 'WP') %>%
str_replace('Printed version|Research papers|static mockups', 'Print')
for(i in 1:length(presentation)){
project[[str_c('presentation_', presentation[i])]] <- str_detect(project$`How do you present your data visualizations?`, presentation[i])
}
project <- project %>% select(-`How do you present your data visualizations?`)
charts <- c('LC', 'BC', 'Infographics', 'Treemap', 'ND', 'CM', 'RM', 'FD', 'VRAR', 'DT', 'PC', 'Dendrogram', 'VM', 'TDC', 'TM', 'SP', 'SG', 'Custom', 'HM', 'Other')
project$`Which of these charts have you used in production in the last 6 months:` <- project$`Which of these charts have you used in production in the last 6 months:` %>%
str_replace('Line Chart', 'LC') %>%
str_replace('Bar Chart', 'BC') %>%
str_replace('Network Diagram|Graph', 'ND') %>%
str_replace('Choropleth Map', 'CM') %>%
str_replace('Raster Map', 'RM') %>%
str_replace('Flow Diagram', 'FD') %>%
str_replace('VR/AR Charting', 'VRAR') %>%
str_replace('Delaunay Triangulation', 'DT') %>%
str_replace('Pie Chart', 'PC') %>%
str_replace('3D Chart', 'TDC') %>%
str_replace('Vector Map', 'VM') %>%
str_replace('Topographical Maps', 'TM') %>%
str_replace('scatterplot|scatter|Scatterplot|bubble|Scatter plot', 'SP') %>%
str_replace('Streamgraph|streamgraph', 'SG') %>%
str_replace('heatmaps|Heatmap| Heat Map|heat map', 'HM') %>%
str_replace('custom', 'Custom') %>%
str_replace('other|timelines|cartogram|Icicle|radial|different kinds|Gantt|matrix|path plot|boxplot|bump|dumbbell', 'Other')
for(i in 1:length(charts)){
project[[str_c('charts_', charts[i])]] <- str_detect(project$`Which of these charts have you used in production in the last 6 months:`, charts[i])
}
project <- project %>% select(-`Which of these charts have you used in production in the last 6 months:`)
project
summary(project)
names(project)
factorColumns <- names(project)[c(1, 3, 10, 11, 13, 14, 15)]
factorColumns
project[1]
test <- project
test[1] <- project[1] %>% as.factor()
test[1] <- project[[1]] %>% as.factor()
test[1]
test[1] %>% levels()
test[[1]] %>% levels()
factorColumns <- c(1, 3, 10, 11, 13, 14, 15);
factorColumns <- c(1, 3, 10, 11, 13, 14, 15)
factorColumns
factorColumns %>% length
test
test[1:10, 1:2]
levels(test[[1]])
levels(test$`How did you learn to create data visualization?`)
test[["How did you learn to create data visualization?"]]
names(project)
names(project)[factorColumns]
factorColumns <- c("How did you learn to create data visualization?",
"What focus is data visualization in your work?",
"Is there a separate group that does data visualizations or are you embedded in another group? (data science UX UI web data engineering IT etc)",
"Did you set out to work in data visualization or did you fall into it?",
"Are you able to choose your own tools or are the choices made for you?",
"How often do they consume your data visualizations?",
"How would you describe the relationship?" )
factorColumns
length(factorColumns)
project[factorColumns[1]]
project[[factorColumns[1]]]
project[factorColumns[1]]
project$`How did you learn to create data visualization?`
project[[factorColumns[1]]]
project[[factorColumns[1]]] %>% as.factor()
for(i in 1:length(factorColumns)){
project[[factorColumns[i]]] <- project[[factorColumns[i]]] %>% as.factor()
}
project[1:13]
project[1:15] %>% summary()
project[1:15] %>% summary()
project$`Percent of your day focused on design?`
project$`Percent of your day focused on design?` %>% as.numeric()
project$`Percent of your day focused on design?` <- project$`Percent of your day focused on design?` %>% as.numeric()
project[1:15] %>% summary()
